{% load static %}

{% if t.action == "add" %}
    <form method="post" action="{% url 'subscriptions_add' %}" class="item__action-form">
        {% csrf_token %}
        <input type="hidden" name="source" value="{{ t.title.source.value }}">
        <input type="hidden" name="external_id" value="{{ t.title.external_id }}">
        <button type="submit">
            <img src="{% static 'radar/icons/add.svg' %}" alt="add" class="item__icon--add item__icon-action">
        </button>
    </form>
{% elif t.action == "delete" %}
    <form method="post" action="{% url 'subscriptions_delete' %}" class="item__action-form">
        {% csrf_token %}
        <input type="hidden" name="source" value="{{ t.title.source.value }}">
        <input type="hidden" name="external_id" value="{{ t.title.external_id }}">
        <button type="submit">
            <img src="{% static 'radar/icons/delete.svg' %}" alt="delete" class="item__icon--delete item__icon-action">
        </button>
    </form>
{% endif %}
<a href="" class="item__link">
    {% if t.title.cover_url %}
    <img src="{{ t.title.cover_url }}" alt="cover" class="item__cover">
    {% else %}
    <img src="https://mobius-lubes.com/wp-content/uploads/2025/09/empty-img.webp" alt=""
    class="item__empty-cover">
    {% endif %}
    <span class="item__name">{{ t.title.name|truncatechars:20 }}</span>
</a>